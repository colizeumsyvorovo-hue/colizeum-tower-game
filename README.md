# Telegram бот для мониторинга TrueGamers

Бот для автоматизации и мониторинга приложения TrueGamers на Android через Telegram.

## Возможности

- ✅ Автоматический вход в приложение
- ✅ Выбор клуба
- ✅ Открытие экрана с местами
- ✅ Автоматический мониторинг занятости мест
- ✅ Отправка скриншотов в Telegram

## Требования

1. **Python 3.8+**
2. **Android устройство** с включенной USB отладкой
3. **ADB (Android Debug Bridge)** установлен и доступен в PATH
4. **Telegram Bot Token** (получите у @BotFather)

## Установка

1. Клонируйте репозиторий или скачайте файлы

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

4. Отредактируйте `.env` и укажите ваш Telegram Bot Token:
```
TELEGRAM_BOT_TOKEN=your_bot_token_here
```

5. Настройте координаты в `config.py` под ваше устройство

## Настройка Android устройства

1. Включите **Режим разработчика** на Android устройстве:
   - Перейдите в Настройки → О телефоне
   - Нажмите 7 раз на "Номер сборки"

2. Включите **USB отладку**:
   - Настройки → Для разработчиков → USB отладка

3. Подключите устройство к компьютеру через USB

4. Проверьте подключение:
```bash
adb devices
```

## Настройка координат

Важно настроить координаты экрана под ваше устройство в файле `config.py`:

```python
LOGIN_COORDINATES = {
    'phone_input': (540, 800),  # Координаты поля ввода телефона
    'password_input': (540, 900),  # Координаты поля ввода пароля
    'login_button': (540, 1000),  # Координаты кнопки входа
}
```

Для определения координат:
1. Используйте команду `/open_places` в боте
2. Посмотрите скриншот
3. Определите координаты нужных элементов
4. Обновите `config.py`

## Использование

1. Запустите бота:
```bash
python bot.py
```

2. В Telegram найдите вашего бота и отправьте `/start`

3. Доступные команды:
   - `/check_device` - Проверить подключение устройства
   - `/login` - Войти в приложение (запросит телефон и пароль)
   - `/select_club` - Выбрать клуб
   - `/open_places` - Открыть экран с местами
   - `/monitor` - Начать автоматический мониторинг
   - `/stop_monitor` - Остановить мониторинг
   - `/status` - Статус системы
   - `/help` - Справка

## Структура проекта

```
.
├── bot.py                 # Основной файл бота
├── android_automation.py # Модуль автоматизации Android
├── config.py             # Конфигурация
├── requirements.txt      # Зависимости Python
├── .env.example          # Пример файла с переменными окружения
└── README.md             # Этот файл
```

## Важные замечания

⚠️ **Внимание:**
- Координаты экрана нужно настроить под конкретное устройство
- Приложение может изменить интерфейс, потребуется обновление координат
- Использование автоматизации может нарушать условия использования приложения
- Используйте на свой риск

## Решение проблем

### Устройство не подключается
- Убедитесь, что USB отладка включена
- Проверьте кабель USB
- Попробуйте `adb kill-server && adb start-server`

### Координаты не работают
- Проверьте размер экрана устройства
- Используйте скриншоты для определения правильных координат
- Учитывайте разные разрешения экранов

### Бот не отвечает
- Проверьте правильность Bot Token
- Убедитесь, что бот запущен
- Проверьте логи на наличие ошибок

## Лицензия

Этот проект создан в образовательных целях.
